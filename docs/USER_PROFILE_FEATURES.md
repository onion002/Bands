# 用户页面功能说明

## 新增功能概述

本次更新为用户页面添加了以下新功能：

### 1. 头像显示和上传
- 在导航栏用户名和退出按钮之间显示用户头像
- 点击头像可跳转到用户页面
- 支持头像上传和更换
- 头像文件大小限制：5MB
- 支持的图片格式：PNG、JPG、JPEG、GIF、WEBP

### 2. 个人资料管理
- 显示用户名（不可修改）
- 编辑显示名称
- 编辑邮箱地址
- 显示用户类型（管理员/用户）
- 显示加入时间

### 3. 密码修改
- 输入当前密码验证身份
- 新密码长度至少6位
- 确认新密码防止输入错误
- 实时验证密码输入

### 4. 公开设置
- **乐队信息公开**：控制其他用户是否能看到您管理的乐队
- **成员信息公开**：控制其他用户是否能看到您管理的成员
- **活动信息公开**：控制其他用户是否能看到您管理的活动
- 使用开关按钮，操作简单直观

### 5. 公开展示页面优化
- 删除静态数据，使用真实API
- 优化页面样式，与项目主题保持一致
- 支持搜索用户名查看公开数据
- 响应式设计，支持移动端

## 使用方法

### 访问用户页面
1. 登录后，点击导航栏右侧的用户头像
2. 或直接访问 `/profile` 路径

### 更换头像
1. 在用户页面，将鼠标悬停在头像上
2. 点击"更换头像"按钮
3. 选择图片文件（支持常见图片格式）
4. 系统会自动上传并更新头像

### 修改个人资料
1. 在"基本信息"部分编辑相应字段
2. 点击"保存更改"按钮
3. 系统会显示操作结果提示

### 修改密码
1. 在"修改密码"部分输入当前密码
2. 输入新密码（至少6位）
3. 确认新密码
4. 点击"修改密码"按钮

### 设置公开权限
1. 在"公开设置"部分使用开关按钮
2. 开启/关闭相应内容的公开权限
3. 设置会自动保存

### 查看其他用户的公开数据
1. 访问公开展示页面
2. 在搜索框中输入用户名
3. 点击搜索按钮
4. 查看该用户公开的乐队、成员、活动信息

## 技术实现

### 前端
- Vue 3 + TypeScript
- 响应式设计，支持移动端
- 实时表单验证
- 优雅的错误处理和用户提示

### 后端
- Flask + SQLAlchemy
- 新增用户公开设置字段
- 头像上传API
- 公开数据查询API

### 数据库
- 新增字段：`bands_public`、`members_public`、`events_public`
- 默认值：`false`（不公开）
- 支持动态修改

## 注意事项

1. **头像上传**：文件大小不能超过5MB，建议使用压缩后的图片
2. **密码安全**：新密码至少6位，建议使用包含字母和数字的组合
3. **公开设置**：修改后立即生效，其他用户可以看到您公开的内容
4. **数据隐私**：只有开启公开的内容才会被其他用户看到

## 更新日志

- 2025-08-09：新增用户页面功能
  - 头像显示和上传
  - 个人资料管理
  - 密码修改
  - 公开设置控制
  - 公开展示页面优化
